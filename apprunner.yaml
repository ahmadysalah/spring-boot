version: 1.0
service:
  name: your-app-runner-service-name
  source:
    type: github
    repository:  git@github.com:ahmadysalah/spring-boot.git
    branch: staging
  runtime: java11
  build:
    commands:
      - name: Install Maven 3.8.3
        command: |
          wget https://archive.apache.org/dist/maven/maven-3/3.8.3/binaries/apache-maven-3.8.3-bin.tar.gz
          tar -xzf apache-maven-3.8.3-bin.tar.gz
          sudo mv apache-maven-3.8.3 /opt/
          sudo ln -s /opt/apache-maven-3.8.3/bin/mvn /usr/local/bin/mvn
      - name: Build JAR file
        command: |
          mvn -B -DskipTests clean package
  start:
    command: java -jar target/your-application.jar
